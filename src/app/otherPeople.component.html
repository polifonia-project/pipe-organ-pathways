<nav class="navbar navbar-expand-md navbar-dark sticky-top bg-dark hidenav">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">IMMA Slow Looking</a>
      <!-- <img class="img-fluid" src="assets/img/IMMA30_LOGO_RGB.png"> -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav me-auto mb-2 mb-md-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" class="nav-link" routerLink="/home">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/otherPeople">Other People</a>
          </li>
        </ul>
      </div>
    </div>
</nav>

<p class="lead">
    Find out how others have responded to IMMA artworks.
</p>
<p>
    Select one of the themes to view the responses. Follow @IMMASlowLooking on Twitter to keep track of the responses of others.
</p> 

<div *ngFor="let theme of getThemes(); let i = index">
    <div class="accordion " id="accordionFlushExample">
        <div class="accordion-item">
            <h2 class="accordion-header" id="{{'heading_' + theme._id}}">
                <button 
                    class="accordion-button collapsed" 
                    type="button" 
                    data-bs-toggle="collapse" 
                    [attr.data-bs-target]="'#collapse_' + theme._id"
                    aria-expanded="false" 
                    [attr.aria-controls]="'collapse_'+ theme._id">
                    <div><strong>{{theme.name}}</strong><br/>
                    {{theme.description}}
                    </div>
                </button>
            </h2>
            <div 
                id="{{'collapse_' + theme._id}}" 
                class="accordion-collapse collapse" 
                [attr.aria-labelledby]="'heading_' + theme._id"
                data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">
                    <div *ngFor="let script of getScriptsOfTheme(theme._id); let i = index" class="col-sm-12 pb-4">
                        <h5 class="col-sm-12">{{script.name}}</h5> 
                        <span *ngFor="let artwork of getArtworkFromId(script.artworkid);">
                            <img routerLink="/slowLooking/{{script._id}}" class="col-sm-12" src="{{artwork.fileLocation}}" >
                            <div class="col-sm-12"><strong>{{artwork.name}}</strong></div>
                            <div class="col-sm-12">{{artwork.artist}}</div>
                            <div class="col-sm-12">{{artwork.year}}</div>
                        </span>
                        <div class="accordion " id="{{'#theme'+theme._id+'script'+script._id}}">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="{{'heading_' + 'theme'+theme._id+'script'+script._id}}">
                                    <button 
                                        class="accordion-button collapsed" 
                                        type="button" 
                                        data-bs-toggle="collapse" 
                                        [attr.data-bs-target]="'#collapse_' + 'theme'+theme._id+'script'+script._id"
                                        aria-expanded="false" 
                                        [attr.aria-controls]="'collapse_'+ 'theme'+theme._id+'script'+script._id">
                                        Recent responses
                                    </button>
                                </h2>
                                <div 
                                    id="{{'collapse_' + 'theme'+theme._id+'script'+script._id}}" 
                                    class="accordion-collapse collapse" 
                                    [attr.aria-labelledby]="'heading_' + 'theme'+theme._id+'script'+script._id"
                                    [attr.data-bs-parent]="'#theme'+theme._id+'script'+script._id">
                                    <div class="accordion-body">
                                        <div *ngFor="let activity of getApprovedActivitiesOfAScript(script._id); let i = index" class="border">
                                            <div *ngFor="let action of activity.actions;">
                                                <span class="font-weight-bold">{{action.question}}</span>
                                                <p class="font-weight-normal">{{action.answer}}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>                            
                </div>
            </div>
        </div>
    </div>
</div>           
<h2>Take part</h2>
    <button class="m-3 btn btn-warning" routerLink="/home">Try Slow Looking activities for yourself</button>