<p class="lead">
    Find out how others have responded to IMMA artworks.
</p>
<p>
    Select one of the themes to view the responses. Follow @IMMADeepViewpoints on Twitter to keep track of the responses of others.
</p> 

<div *ngFor="let theme of getThemes(); let i = index">
    <div class="accordion " id="accordionFlushExample">
        <div class="accordion-item">
            <h2 class="accordion-header" id="{{'heading_' + theme._id}}">
                <button 
                    class="accordion-button collapsed" 
                    type="button" 
                    data-bs-toggle="collapse" 
                    [attr.data-bs-target]="'#collapse_' + theme._id"
                    aria-expanded="false" 
                    [attr.aria-controls]="'collapse_'+ theme._id">
                    <div><strong>{{theme.name}}</strong><br/>
                    {{theme.description}}
                    </div>
                </button>
            </h2>
            <div 
                id="{{'collapse_' + theme._id}}" 
                class="accordion-collapse collapse" 
                [attr.aria-labelledby]="'heading_' + theme._id"
                data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">
                    <div *ngFor="let script of getScriptsOfTheme(theme._id); let i = index" class="col-sm-12 pb-4">
                        <h5 class="col-sm-12">{{script.name}}</h5> 
                        <span *ngFor="let artwork of getArtworkFromId(script.artworkid);">
                            <img class="col-sm-12" src="{{artwork.fileLocation}}">
                            <div class="col-sm-12"><strong>{{artwork.name}}</strong></div>
                            <div class="col-sm-12">{{artwork.artist}}</div>
                            <div class="col-sm-12">{{artwork.year}}</div>
                        </span>
                        <div class="accordion " id="{{'theme'+theme._id+'script'+script._id}}">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="{{'heading_' + 'theme'+theme._id+'script'+script._id}}">
                                    <button 
                                        class="accordion-button collapsed" 
                                        type="button" 
                                        data-bs-toggle="collapse" 
                                        [attr.data-bs-target]="'#collapse_' + 'theme'+theme._id+'script'+script._id"
                                        aria-expanded="false" 
                                        [attr.aria-controls]="'collapse_'+ 'theme'+theme._id+'script'+script._id">
                                        Recent responses
                                    </button>
                                </h2>
                                <div 
                                    id="{{'collapse_' + 'theme'+theme._id+'script'+script._id}}" 
                                    class="accordion-collapse collapse" 
                                    [attr.aria-labelledby]="'heading_' + 'theme'+theme._id+'script'+script._id"
                                    [attr.data-bs-parent]="'#theme'+theme._id+'script'+script._id">
                                    <div class="accordion-body">
                                        <div *ngFor="let activity of getApprovedActivitiesOfAScript(script._id); let i = index; let even=even">
                                            <div *ngIf="even" style="background-color: #E6E6E6;" class="w-100">
                                                <div *ngFor="let action of activity.actions;">
                                                    <span class="font-italic" style="white-space: pre-wrap;" [innerHTML]="action.question"></span>
                                                    <p class="font-weight-normal" style="white-space: pre-wrap;">{{action.answer}}</p>
                                                </div>
                                            </div>
                                            <div *ngIf="!even" style="background-color: #FFFFFF;" class="w-100">
                                                <div *ngFor="let action of activity.actions;">
                                                    <span class="font-italic" style="white-space: pre-wrap;" [innerHTML]="action.question"></span>
                                                    <p class="font-weight-normal" style="white-space: pre-wrap;">{{action.answer}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>                            
                </div>
            </div>
        </div>
    </div>
</div>           
<h2>Take part</h2>
    <button class="m-3 btn btn-warning" routerLink="/home">Try Deeper Viewpoints activities for yourself</button>